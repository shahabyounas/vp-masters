{
  "version": 3,
  "sources": ["../../node_modules/sdp/sdp.js", "../../node_modules/webrtc-adapter/src/js/utils.js", "../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js", "../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js", "../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js", "../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js", "../../node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js", "../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js", "../../node_modules/webrtc-adapter/src/js/common_shim.js", "../../node_modules/webrtc-adapter/src/js/adapter_factory.js", "../../node_modules/webrtc-adapter/src/js/adapter_core.js", "../../node_modules/barcode-detector/dist/es/ponyfill.js", "../../node_modules/barcode-detector/dist/es/polyfill.js", "../../node_modules/@yudiel/react-qr-scanner/src/assets/CameraOffIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/CameraOnIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/components/OnOff.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/TorchOnIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/TorchOffIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/components/Torch.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/ZoomInIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/ZoomOutIcon.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/components/Zoom.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/components/Finder.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/assets/base64Beep.ts", "../../node_modules/@yudiel/react-qr-scanner/src/utilities/isDateObject.ts", "../../node_modules/@yudiel/react-qr-scanner/src/utilities/isNullOrUndefined.ts", "../../node_modules/@yudiel/react-qr-scanner/src/utilities/isObject.ts", "../../node_modules/@yudiel/react-qr-scanner/src/utilities/isPrimitive.ts", "../../node_modules/@yudiel/react-qr-scanner/src/utilities/deepEqual.ts", "../../node_modules/@yudiel/react-qr-scanner/src/misc/defaultConstraints.ts", "../../node_modules/@yudiel/react-qr-scanner/src/misc/defaultComponents.ts", "../../node_modules/@yudiel/react-qr-scanner/src/misc/defaultStyles.ts", "../../node_modules/@yudiel/react-qr-scanner/src/misc/overlays.ts", "../../node_modules/@yudiel/react-qr-scanner/src/components/Scanner.tsx", "../../node_modules/@yudiel/react-qr-scanner/src/hooks/useCamera.ts", "../../node_modules/@yudiel/react-qr-scanner/src/hooks/useScanner.ts", "../../node_modules/@yudiel/react-qr-scanner/src/hooks/useDevices.ts"],
  "sourcesContent": ["/* eslint-env node */\n'use strict';\n\n// SDP helpers.\nconst SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substring(2, 12);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(line => line.trim());\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  const parts = blob.split('\\nm=');\n  return parts.map((part, index) => (index > 0 ?\n    'm=' + part : part).trim() + '\\r\\n');\n};\n\n// Returns the session description.\nSDPUtils.getDescription = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// Returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(line => line.indexOf(prefix) === 0);\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n// Input can be prefixed with a=.\nSDPUtils.parseCandidate = function(line) {\n  let parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  const candidate = {\n    foundation: parts[0],\n    component: {1: 'rtp', 2: 'rtcp'}[parts[1]] || parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7],\n  };\n\n  for (let i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\n// This does not include the a= prefix!\nSDPUtils.writeCandidate = function(candidate) {\n  const sdp = [];\n  sdp.push(candidate.foundation);\n\n  const component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  const type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// Sample input:\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substring(14).split(' ');\n};\n\n// Parses a rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  let parts = line.substring(9).split(' ');\n  const parsed = {\n    payloadType: parseInt(parts.shift(), 10), // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generates a rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  const channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses a extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  const parts = line.substring(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1],\n    attributes: parts.slice(2).join(' '),\n  };\n};\n\n// Generates an extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri +\n      (headerExtension.attributes ? ' ' + headerExtension.attributes : '') +\n      '\\r\\n';\n};\n\n// Parses a fmtp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\n// Non-key-value such as telephone-events `0-15` get parsed as\n// {`0-15`:undefined}\nSDPUtils.parseFmtp = function(line) {\n  const parsed = {};\n  let kv;\n  const parts = line.substring(line.indexOf(' ') + 1).split(';');\n  for (let j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates a fmtp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  let line = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    const params = [];\n    Object.keys(codec.parameters).forEach(param => {\n      if (codec.parameters[param] !== undefined) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses a rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  const parts = line.substring(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' '),\n  };\n};\n\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  let lines = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(fb => {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses a RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  const sp = line.indexOf(' ');\n  const parts = {\n    ssrc: parseInt(line.substring(7, sp), 10),\n  };\n  const colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substring(sp + 1, colon);\n    parts.value = line.substring(colon + 1);\n  } else {\n    parts.attribute = line.substring(sp + 1);\n  }\n  return parts;\n};\n\n// Parse a ssrc-group line (see RFC 5576). Sample input:\n// a=ssrc-group:semantics 12 34\nSDPUtils.parseSsrcGroup = function(line) {\n  const parts = line.substring(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(ssrc => parseInt(ssrc, 10)),\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// Returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  const mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substring(6);\n  }\n};\n\n// Parses a fingerprint line for DTLS-SRTP.\nSDPUtils.parseFingerprint = function(line) {\n  const parts = line.substring(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1].toUpperCase(), // the definition is upper-case in RFC 4572.\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint),\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  let sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(fp => {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function(line) {\n  const parts = line.substring(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3),\n  };\n};\n\nSDPUtils.writeCryptoLine = function(parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' +\n    parameters.cryptoSuite + ' ' +\n    (typeof parameters.keyParams === 'object'\n      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)\n      : parameters.keyParams) +\n    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +\n    '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function(keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  const parts = keyParams.substring(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function(keyParams) {\n  return keyParams.keyMethod + ':'\n    + keyParams.keySalt +\n    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +\n    (keyParams.mkiValue && keyParams.mkiLength\n      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength\n      : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  const ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-ufrag:')[0];\n  const pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substring(12),\n    password: pwd.substring(10),\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  let sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  const description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: [],\n  };\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  description.profile = mline[2];\n  for (let i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    const pt = mline[i];\n    const rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      const codec = SDPUtils.parseRtpMap(rtpmapline);\n      const fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(line => {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  const wildcardRtcpFb = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:* ')\n    .map(SDPUtils.parseRtcpFb);\n  description.codecs.forEach(codec => {\n    wildcardRtcpFb.forEach(fb=> {\n      const duplicate = codec.rtcpFeedback.find(existingFeedback => {\n        return existingFeedback.type === fb.type &&\n          existingFeedback.parameter === fb.parameter;\n      });\n      if (!duplicate) {\n        codec.rtcpFeedback.push(fb);\n      }\n    });\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  let sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' ' + (caps.profile || 'UDP/TLS/RTP/SAVPF') + ' ';\n  sdp += caps.codecs.map(codec => {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(codec => {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  let maxptime = 0;\n  caps.codecs.forEach(codec => {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(extension => {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  const encodingParameters = [];\n  const description = SDPUtils.parseRtpParameters(mediaSection);\n  const hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  const hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  const ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(parts => parts.attribute === 'cname');\n  const primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  let secondarySsrc;\n\n  const flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(line => {\n      const parts = line.substring(17).split(' ');\n      return parts.map(part => parseInt(part, 10));\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(codec => {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      let encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red',\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc,\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  let bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substring(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substring(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(params => {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  const rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  const remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(obj => obj.attribute === 'cname')[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  const rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  const mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function(rtcpParameters) {\n  let sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc +\n      ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  let parts;\n  const spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substring(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  const planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(msidParts => msidParts.attribute === 'msid');\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  const mline = SDPUtils.parseMLine(mediaSection);\n  const maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  let maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substring(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  const sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substring(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize,\n    };\n  }\n  const sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    const parts = sctpMapLines[0]\n      .substring(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize,\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  let output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n',\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n',\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 22);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  let sessionId;\n  const version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  const user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  const lines = SDPUtils.splitLines(mediaSection);\n  for (let i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substring(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  return mline[0].substring(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const parts = lines[0].substring(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' '),\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  const line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  const parts = line.substring(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  const lines = SDPUtils.splitLines(blob);\n  for (let i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nexport function extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseFloat(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nexport function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n          this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n          this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nexport function disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n    'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nexport function disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nexport function log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nexport function deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nexport function detectBrowser(window) {\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator ||\n      !window.navigator.userAgent) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  const {navigator} = window;\n\n  // Prefer navigator.userAgentData.\n  if (navigator.userAgentData && navigator.userAgentData.brands) {\n    const chromium = navigator.userAgentData.brands.find((brand) => {\n      return brand.brand === 'Chromium';\n    });\n    if (chromium) {\n      return {browser: 'chrome', version: parseInt(chromium.version, 10)};\n    }\n  }\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = parseInt(extractVersion(navigator.userAgent,\n      /Firefox\\/(\\d+)\\./, 1));\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = parseInt(extractVersion(navigator.userAgent,\n      /Chrom(e|ium)\\/(\\d+)\\./, 2));\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = parseInt(extractVersion(navigator.userAgent,\n      /AppleWebKit\\/(\\d+)\\./, 1));\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n    // Only for internal usage.\n    result._safariVersion = extractVersion(navigator.userAgent,\n      /Version\\/(\\d+(\\.?\\d+))/, 1);\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nexport function compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nexport function walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nexport function filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\n\nexport {shimGetUserMedia} from './getusermedia';\n\nexport function shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nexport function shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nexport function shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        utils.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        utils.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nexport function shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nexport function shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n    .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n        this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n        externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n        internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n        .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n    window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n    'localDescription', {\n      get() {\n        const description = origLocalDescription.get.apply(this);\n        if (description.type === '') {\n          return description;\n        }\n        return replaceInternalStreamId(this, description);\n      }\n    });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n          'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n      .forEach(function(method) {\n        const nativeMethod = window.RTCPeerConnection.prototype[method];\n        const methodObj = {[method]() {\n          arguments[0] = new ((method === 'addIceCandidate') ?\n            window.RTCIceCandidate :\n            window.RTCSessionDescription)(arguments[0]);\n          return nativeMethod.apply(this, arguments);\n        }};\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n      });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nexport function fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (browserDetails.version < 72 || (pc.getConfiguration &&\n        pc.getConfiguration().sdpSemantics === 'plan-b')) {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\nconst logging = utils.log;\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n            .then(devices => {\n              devices = devices.filter(d => d.kind === 'videoinput');\n              let dev = devices.find(d => matches.some(match =>\n                d.label.toLowerCase().includes(match)));\n              if (!dev && devices.length && matches.includes('back')) {\n                dev = devices[devices.length - 1]; // more likely the back cam\n              }\n              if (dev) {\n                constraints.video.deviceId = face.exact\n                  ? {exact: dev.deviceId}\n                  : {ideal: dev.deviceId};\n              }\n              constraints.video = constraintsToChrome_(constraints.video);\n              logging('chrome: ' + JSON.stringify(constraints));\n              return func(constraints);\n            });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n      .forEach(function(method) {\n        const nativeMethod = window.RTCPeerConnection.prototype[method];\n        const methodObj = {[method]() {\n          arguments[0] = new ((method === 'addIceCandidate') ?\n            window.RTCIceCandidate :\n            window.RTCSessionDescription)(arguments[0]);\n          return nativeMethod.apply(this, arguments);\n        }};\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n      });\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n      Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        // WebIDL input coercion and validation\n        let sendEncodings = arguments[1] && arguments[1].sendEncodings;\n        if (sendEncodings === undefined) {\n          sendEncodings = [];\n        }\n        sendEncodings = [...sendEncodings];\n        const shouldPerformCheck = sendEncodings.length > 0;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = sendEncodings;\n            sender.sendEncodings = sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n        .then(() => {\n          return origCreateOffer.apply(this, arguments);\n        })\n        .finally(() => {\n          this.setParametersPromises = [];\n        });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n        .then(() => {\n          return origCreateAnswer.apply(this, arguments);\n        })\n        .finally(() => {\n          this.setParametersPromises = [];\n        });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n      'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n", "/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nimport * as utils from '../utils';\n\nexport function shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track, ...streams) {\n        if (streams) {\n          streams.forEach((stream) => {\n            if (!this._localStreams) {\n              this._localStreams = [stream];\n            } else if (!this._localStreams.includes(stream)) {\n              this._localStreams.push(stream);\n            }\n          });\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nexport function shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nexport function shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n        .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nexport function shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: utils.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nexport function shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (server.urls === undefined && server.url) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nexport function shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio', {direction: 'recvonly'});\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video', {direction: 'recvonly'});\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n\nexport function shimAudioContext(window) {\n  if (typeof window !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n", "/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport SDPUtils from 'sdp';\nimport * as utils from './utils';\n\nexport function shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substring(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      for (const key in parsedCandidate) {\n        if (!(key in nativeCandidate)) {\n          Object.defineProperty(nativeCandidate, key,\n            {value: parsedCandidate[key]});\n        }\n      }\n\n      // Override serializer to not serialize the extra attributes.\n      nativeCandidate.toJSON = function toJSON() {\n        return {\n          candidate: nativeCandidate.candidate,\n          sdpMid: nativeCandidate.sdpMid,\n          sdpMLineIndex: nativeCandidate.sdpMLineIndex,\n          usernameFragment: nativeCandidate.usernameFragment,\n        };\n      };\n      return nativeCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nexport function shimRTCIceCandidateRelayProtocol(window) {\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'relayProtocol' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      const parsedCandidate = SDPUtils.parseCandidate(e.candidate.candidate);\n      if (parsedCandidate.type === 'relay') {\n        // This is a libwebrtc-specific mapping of local type preference\n        // to relayProtocol.\n        e.candidate.relayProtocol = {\n          0: 'tls',\n          1: 'tcp',\n          2: 'udp',\n        }[parsedCandidate.priority >> 24];\n      }\n    }\n    return e;\n  });\n}\n\nexport function shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = SDPUtils.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = SDPUtils.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = SDPUtils.matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substring(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nexport function shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nexport function shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n          this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n          this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nexport function removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' &&\n      browserDetails._safariVersion >= 13.1) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      const sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription &&\n          desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp,\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nexport function shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      // Native support for ignoring exists for Chrome M77+.\n      // Safari ignores as well, exact version unknown but works in the same\n      // version that also ignores addIceCandidate(null).\n      if (((browserDetails.browser === 'chrome' && browserDetails.version < 78)\n           || (browserDetails.browser === 'firefox'\n               && browserDetails.version < 68)\n           || (browserDetails.browser === 'safari'))\n          && arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\n// Note: Make sure to call this ahead of APIs that modify\n// setLocalDescription.length\nexport function shimParameterlessSetLocalDescription(window, browserDetails) {\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  if (!nativeSetLocalDescription || nativeSetLocalDescription.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      let desc = arguments[0] || {};\n      if (typeof desc !== 'object' || (desc.type && desc.sdp)) {\n        return nativeSetLocalDescription.apply(this, arguments);\n      }\n      // The remaining steps should technically happen when SLD comes off the\n      // RTCPeerConnection's operations chain (not ahead of going on it), but\n      // this is too difficult to shim. Instead, this shim only covers the\n      // common case where the operations chain is empty. This is imperfect, but\n      // should cover many cases. Rationale: Even if we can't reduce the glare\n      // window to zero on imperfect implementations, there's value in tapping\n      // into the perfect negotiation pattern that several browsers support.\n      desc = {type: desc.type, sdp: desc.sdp};\n      if (!desc.type) {\n        switch (this.signalingState) {\n          case 'stable':\n          case 'have-local-offer':\n          case 'have-remote-pranswer':\n            desc.type = 'offer';\n            break;\n          default:\n            desc.type = 'answer';\n            break;\n        }\n      }\n      if (desc.sdp || (desc.type !== 'offer' && desc.type !== 'answer')) {\n        return nativeSetLocalDescription.apply(this, [desc]);\n      }\n      const func = desc.type === 'offer' ? this.createOffer : this.createAnswer;\n      return func.apply(this)\n        .then(d => nativeSetLocalDescription.apply(this, [d]));\n    };\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n// Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\nimport * as sdp from 'sdp';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp,\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n", "/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nimport {adapterFactory} from './adapter_factory.js';\n\nconst adapter =\n  adapterFactory({window: typeof window === 'undefined' ? undefined : window});\nexport default adapter;\n", "var Ae = (o) => {\n  throw TypeError(o);\n};\nvar Se = (o, f, c) => f.has(o) || Ae(\"Cannot \" + c);\nvar Ie = (o, f, c) => (Se(o, f, \"read from private field\"), c ? c.call(o) : f.get(o)), De = (o, f, c) => f.has(o) ? Ae(\"Cannot add the same private member more than once\") : f instanceof WeakSet ? f.add(o) : f.set(o, c), Me = (o, f, c, T) => (Se(o, f, \"write to private field\"), T ? T.call(o, c) : f.set(o, c), c);\nconst Dt = [\n  [\"Aztec\", \"M\"],\n  [\"Codabar\", \"L\"],\n  [\"Code39\", \"L\"],\n  [\"Code93\", \"L\"],\n  [\"Code128\", \"L\"],\n  [\"DataBar\", \"L\"],\n  [\"DataBarExpanded\", \"L\"],\n  [\"DataMatrix\", \"M\"],\n  [\"EAN-8\", \"L\"],\n  [\"EAN-13\", \"L\"],\n  [\"ITF\", \"L\"],\n  [\"MaxiCode\", \"M\"],\n  [\"PDF417\", \"M\"],\n  [\"QRCode\", \"M\"],\n  [\"UPC-A\", \"L\"],\n  [\"UPC-E\", \"L\"],\n  [\"MicroQRCode\", \"M\"],\n  [\"rMQRCode\", \"M\"],\n  [\"DXFilmEdge\", \"L\"],\n  [\"DataBarLimited\", \"L\"]\n], Mt = Dt.map(([o]) => o), La = Mt.filter(\n  (o, f) => Dt[f][1] === \"L\"\n), Ba = Mt.filter(\n  (o, f) => Dt[f][1] === \"M\"\n);\nfunction Yt(o) {\n  switch (o) {\n    case \"Linear-Codes\":\n      return La.reduce((f, c) => f | Yt(c), 0);\n    case \"Matrix-Codes\":\n      return Ba.reduce((f, c) => f | Yt(c), 0);\n    case \"Any\":\n      return (1 << Dt.length) - 1;\n    case \"None\":\n      return 0;\n    default:\n      return 1 << Mt.indexOf(o);\n  }\n}\nfunction Wa(o) {\n  if (o === 0)\n    return \"None\";\n  const f = 31 - Math.clz32(o);\n  return Mt[f];\n}\nfunction Ua(o) {\n  return o.reduce((f, c) => f | Yt(c), 0);\n}\nconst Va = [\n  \"LocalAverage\",\n  \"GlobalHistogram\",\n  \"FixedThreshold\",\n  \"BoolCast\"\n];\nfunction ka(o) {\n  return Va.indexOf(o);\n}\nconst Fe = [\n  \"Unknown\",\n  \"ASCII\",\n  \"ISO8859_1\",\n  \"ISO8859_2\",\n  \"ISO8859_3\",\n  \"ISO8859_4\",\n  \"ISO8859_5\",\n  \"ISO8859_6\",\n  \"ISO8859_7\",\n  \"ISO8859_8\",\n  \"ISO8859_9\",\n  \"ISO8859_10\",\n  \"ISO8859_11\",\n  \"ISO8859_13\",\n  \"ISO8859_14\",\n  \"ISO8859_15\",\n  \"ISO8859_16\",\n  \"Cp437\",\n  \"Cp1250\",\n  \"Cp1251\",\n  \"Cp1252\",\n  \"Cp1256\",\n  \"Shift_JIS\",\n  \"Big5\",\n  \"GB2312\",\n  \"GB18030\",\n  \"EUC_JP\",\n  \"EUC_KR\",\n  \"UTF16BE\",\n  /**\n   * UnicodeBig [[deprecated]]\n   */\n  \"UTF16BE\",\n  \"UTF8\",\n  \"UTF16LE\",\n  \"UTF32BE\",\n  \"UTF32LE\",\n  \"BINARY\"\n];\nfunction Ha(o) {\n  return o === \"UnicodeBig\" ? Fe.indexOf(\"UTF16BE\") : Fe.indexOf(o);\n}\nconst Na = [\n  \"Text\",\n  \"Binary\",\n  \"Mixed\",\n  \"GS1\",\n  \"ISO15434\",\n  \"UnknownECI\"\n];\nfunction za(o) {\n  return Na[o];\n}\nconst Ga = [\"Ignore\", \"Read\", \"Require\"];\nfunction Xa(o) {\n  return Ga.indexOf(o);\n}\nconst qa = [\"Plain\", \"ECI\", \"HRI\", \"Hex\", \"Escaped\"];\nfunction Ya(o) {\n  return qa.indexOf(o);\n}\nconst It = {\n  formats: [],\n  tryHarder: !0,\n  tryRotate: !0,\n  tryInvert: !0,\n  tryDownscale: !0,\n  tryDenoise: !1,\n  binarizer: \"LocalAverage\",\n  isPure: !1,\n  downscaleFactor: 3,\n  downscaleThreshold: 500,\n  minLineCount: 2,\n  maxNumberOfSymbols: 255,\n  tryCode39ExtendedMode: !0,\n  returnErrors: !1,\n  eanAddOnSymbol: \"Ignore\",\n  textMode: \"HRI\",\n  characterSet: \"Unknown\"\n};\nfunction je(o) {\n  return {\n    ...o,\n    formats: Ua(o.formats),\n    binarizer: ka(o.binarizer),\n    eanAddOnSymbol: Xa(o.eanAddOnSymbol),\n    textMode: Ya(o.textMode),\n    characterSet: Ha(o.characterSet)\n  };\n}\nfunction Za(o) {\n  return {\n    ...o,\n    format: Wa(o.format),\n    contentType: za(o.contentType),\n    eccLevel: o.ecLevel\n  };\n}\nconst $o = \"2.1.2\", bo = \"a1516b34167cff504bf3c83698ea841e13a8f7f1\", Qa = {\n  locateFile: (o, f) => {\n    const c = o.match(/_(.+?)\\.wasm$/);\n    return c ? `https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${c[1]}/${o}` : f + o;\n  }\n}, St = /* @__PURE__ */ new WeakMap();\nfunction Ja(o, f) {\n  return Object.is(o, f) || Object.keys(o).length === Object.keys(f).length && Object.keys(o).every(\n    (c) => Object.prototype.hasOwnProperty.call(f, c) && o[c] === f[c]\n  );\n}\nfunction Le(o, {\n  overrides: f,\n  equalityFn: c = Ja,\n  fireImmediately: T = !1\n} = {}) {\n  var $;\n  const [x, D] = ($ = St.get(o)) != null ? $ : [Qa], R = f != null ? f : x;\n  let O;\n  if (T) {\n    if (D && (O = c(x, R)))\n      return D;\n    const M = o({\n      ...R\n    });\n    return St.set(o, [R, M]), M;\n  }\n  (O != null ? O : c(x, R)) || St.set(o, [R]);\n}\nfunction Ka(o) {\n  St.delete(o);\n}\nasync function to(o, f, c = It) {\n  const T = {\n    ...It,\n    ...c\n  }, $ = await Le(o, {\n    fireImmediately: !0\n  });\n  let x, D;\n  if (\"width\" in f && \"height\" in f && \"data\" in f) {\n    const {\n      data: O,\n      data: { byteLength: M },\n      width: F,\n      height: q\n    } = f;\n    D = $._malloc(M), $.HEAPU8.set(O, D), x = $.readBarcodesFromPixmap(\n      D,\n      F,\n      q,\n      je(T)\n    );\n  } else {\n    let O, M;\n    if (\"buffer\" in f)\n      [O, M] = [f.byteLength, f];\n    else if (\"byteLength\" in f)\n      [O, M] = [f.byteLength, new Uint8Array(f)];\n    else if (\"size\" in f)\n      [O, M] = [f.size, new Uint8Array(await f.arrayBuffer())];\n    else\n      throw new TypeError(\"Invalid input type\");\n    D = $._malloc(O), $.HEAPU8.set(M, D), x = $.readBarcodesFromImage(\n      D,\n      O,\n      je(T)\n    );\n  }\n  $._free(D);\n  const R = [];\n  for (let O = 0; O < x.size(); ++O)\n    R.push(\n      Za(x.get(O))\n    );\n  return R;\n}\n({\n  ...It,\n  formats: [...It.formats]\n});\nvar Qt = async function(o = {}) {\n  var f, c = o, T, $, x = new Promise((e, t) => {\n    T = e, $ = t;\n  }), D = typeof window == \"object\", R = typeof Bun < \"u\", O = typeof WorkerGlobalScope < \"u\";\n  typeof process == \"object\" && typeof process.versions == \"object\" && typeof process.versions.node == \"string\" && process.type != \"renderer\";\n  var M = \"./this.program\", F = \"\";\n  function q(e) {\n    return c.locateFile ? c.locateFile(e, F) : F + e;\n  }\n  var rt, Y;\n  (D || O || R) && (O ? F = self.location.href : typeof document < \"u\" && document.currentScript && (F = document.currentScript.src), F.startsWith(\"blob:\") ? F = \"\" : F = F.slice(0, F.replace(/[?#].*/, \"\").lastIndexOf(\"/\") + 1), O && (Y = (e) => {\n    var t = new XMLHttpRequest();\n    return t.open(\"GET\", e, !1), t.responseType = \"arraybuffer\", t.send(null), new Uint8Array(t.response);\n  }), rt = async (e) => {\n    var t = await fetch(e, {\n      credentials: \"same-origin\"\n    });\n    if (t.ok)\n      return t.arrayBuffer();\n    throw new Error(t.status + \" : \" + t.url);\n  });\n  var st = console.log.bind(console), k = console.error.bind(console), Z, nt, Jt = !1, Q, B, ut, vt, at, P, Kt, te;\n  function ee() {\n    var e = nt.buffer;\n    Q = new Int8Array(e), ut = new Int16Array(e), c.HEAPU8 = B = new Uint8Array(e), vt = new Uint16Array(e), at = new Int32Array(e), P = new Uint32Array(e), Kt = new Float32Array(e), te = new Float64Array(e);\n  }\n  function qe() {\n    if (c.preRun)\n      for (typeof c.preRun == \"function\" && (c.preRun = [c.preRun]); c.preRun.length; )\n        sr(c.preRun.shift());\n    re(ae);\n  }\n  function Ye() {\n    E.ya();\n  }\n  function Ze() {\n    if (c.postRun)\n      for (typeof c.postRun == \"function\" && (c.postRun = [c.postRun]); c.postRun.length; )\n        ir(c.postRun.shift());\n    re(ne);\n  }\n  var J = 0, ct = null;\n  function Qe(e) {\n    var t;\n    J++, (t = c.monitorRunDependencies) === null || t === void 0 || t.call(c, J);\n  }\n  function Je(e) {\n    var t;\n    if (J--, (t = c.monitorRunDependencies) === null || t === void 0 || t.call(c, J), J == 0 && ct) {\n      var r = ct;\n      ct = null, r();\n    }\n  }\n  function Ft(e) {\n    var t;\n    (t = c.onAbort) === null || t === void 0 || t.call(c, e), e = \"Aborted(\" + e + \")\", k(e), Jt = !0, e += \". Build with -sASSERTIONS for more info.\";\n    var r = new WebAssembly.RuntimeError(e);\n    throw $(r), r;\n  }\n  var yt;\n  function Ke() {\n    return q(\"zxing_reader.wasm\");\n  }\n  function tr(e) {\n    if (e == yt && Z)\n      return new Uint8Array(Z);\n    if (Y)\n      return Y(e);\n    throw \"both async and sync fetching of the wasm failed\";\n  }\n  async function er(e) {\n    if (!Z)\n      try {\n        var t = await rt(e);\n        return new Uint8Array(t);\n      } catch {\n      }\n    return tr(e);\n  }\n  async function rr(e, t) {\n    try {\n      var r = await er(e), n = await WebAssembly.instantiate(r, t);\n      return n;\n    } catch (a) {\n      k(`failed to asynchronously prepare wasm: ${a}`), Ft(a);\n    }\n  }\n  async function nr(e, t, r) {\n    if (!e && typeof WebAssembly.instantiateStreaming == \"function\")\n      try {\n        var n = fetch(t, {\n          credentials: \"same-origin\"\n        }), a = await WebAssembly.instantiateStreaming(n, r);\n        return a;\n      } catch (i) {\n        k(`wasm streaming compile failed: ${i}`), k(\"falling back to ArrayBuffer instantiation\");\n      }\n    return rr(t, r);\n  }\n  function ar() {\n    return {\n      a: Hn\n    };\n  }\n  async function or() {\n    function e(i, u) {\n      return E = i.exports, nt = E.xa, ee(), pe = E.Ba, Je(), E;\n    }\n    Qe();\n    function t(i) {\n      return e(i.instance);\n    }\n    var r = ar();\n    if (c.instantiateWasm)\n      return new Promise((i, u) => {\n        c.instantiateWasm(r, (s, l) => {\n          i(e(s));\n        });\n      });\n    yt != null || (yt = Ke());\n    try {\n      var n = await nr(Z, yt, r), a = t(n);\n      return a;\n    } catch (i) {\n      return $(i), Promise.reject(i);\n    }\n  }\n  var re = (e) => {\n    for (; e.length > 0; )\n      e.shift()(c);\n  }, ne = [], ir = (e) => ne.push(e), ae = [], sr = (e) => ae.push(e), y = (e) => Xn(e), m = () => qn(), mt = [], gt = 0, ur = (e) => {\n    var t = new jt(e);\n    return t.get_caught() || (t.set_caught(!0), gt--), t.set_rethrown(!1), mt.push(t), Zn(e), zn(e);\n  }, H = 0, cr = () => {\n    v(0, 0);\n    var e = mt.pop();\n    Yn(e.excPtr), H = 0;\n  };\n  class jt {\n    constructor(t) {\n      this.excPtr = t, this.ptr = t - 24;\n    }\n    set_type(t) {\n      P[this.ptr + 4 >> 2] = t;\n    }\n    get_type() {\n      return P[this.ptr + 4 >> 2];\n    }\n    set_destructor(t) {\n      P[this.ptr + 8 >> 2] = t;\n    }\n    get_destructor() {\n      return P[this.ptr + 8 >> 2];\n    }\n    set_caught(t) {\n      t = t ? 1 : 0, Q[this.ptr + 12] = t;\n    }\n    get_caught() {\n      return Q[this.ptr + 12] != 0;\n    }\n    set_rethrown(t) {\n      t = t ? 1 : 0, Q[this.ptr + 13] = t;\n    }\n    get_rethrown() {\n      return Q[this.ptr + 13] != 0;\n    }\n    init(t, r) {\n      this.set_adjusted_ptr(0), this.set_type(t), this.set_destructor(r);\n    }\n    set_adjusted_ptr(t) {\n      P[this.ptr + 16 >> 2] = t;\n    }\n    get_adjusted_ptr() {\n      return P[this.ptr + 16 >> 2];\n    }\n  }\n  var wt = (e) => Gn(e), Rt = (e) => {\n    var t = H;\n    if (!t)\n      return wt(0), 0;\n    var r = new jt(t);\n    r.set_adjusted_ptr(t);\n    var n = r.get_type();\n    if (!n)\n      return wt(0), t;\n    for (var a of e) {\n      if (a === 0 || a === n)\n        break;\n      var i = r.ptr + 16;\n      if (Qn(a, n, i))\n        return wt(a), t;\n    }\n    return wt(n), t;\n  }, lr = () => Rt([]), fr = (e) => Rt([e]), dr = (e, t) => Rt([e, t]), hr = () => {\n    var e = mt.pop();\n    e || Ft(\"no exception to throw\");\n    var t = e.excPtr;\n    throw e.get_rethrown() || (mt.push(e), e.set_rethrown(!0), e.set_caught(!1), gt++), H = t, H;\n  }, pr = (e, t, r) => {\n    var n = new jt(e);\n    throw n.init(t, r), H = e, gt++, H;\n  }, vr = () => gt, yr = (e) => {\n    throw H || (H = e), H;\n  }, mr = () => Ft(\"\"), $t = {}, Lt = (e) => {\n    for (; e.length; ) {\n      var t = e.pop(), r = e.pop();\n      r(t);\n    }\n  };\n  function lt(e) {\n    return this.fromWireType(P[e >> 2]);\n  }\n  var ot = {}, K = {}, bt = {}, gr = c.InternalError = class extends Error {\n    constructor(e) {\n      super(e), this.name = \"InternalError\";\n    }\n  }, Ct = (e) => {\n    throw new gr(e);\n  }, tt = (e, t, r) => {\n    e.forEach((s) => bt[s] = t);\n    function n(s) {\n      var l = r(s);\n      l.length !== e.length && Ct(\"Mismatched type converter count\");\n      for (var d = 0; d < e.length; ++d)\n        V(e[d], l[d]);\n    }\n    var a = new Array(t.length), i = [], u = 0;\n    t.forEach((s, l) => {\n      K.hasOwnProperty(s) ? a[l] = K[s] : (i.push(s), ot.hasOwnProperty(s) || (ot[s] = []), ot[s].push(() => {\n        a[l] = K[s], ++u, u === i.length && n(a);\n      }));\n    }), i.length === 0 && n(a);\n  }, wr = (e) => {\n    var t = $t[e];\n    delete $t[e];\n    var r = t.rawConstructor, n = t.rawDestructor, a = t.fields, i = a.map((u) => u.getterReturnType).concat(a.map((u) => u.setterArgumentType));\n    tt([e], i, (u) => {\n      var s = {};\n      return a.forEach((l, d) => {\n        var h = l.fieldName, p = u[d], w = u[d].optional, b = l.getter, _ = l.getterContext, S = u[d + a.length], A = l.setter, I = l.setterContext;\n        s[h] = {\n          read: (X) => p.fromWireType(b(_, X)),\n          write: (X, L) => {\n            var W = [];\n            A(I, X, S.toWireType(W, L)), Lt(W);\n          },\n          optional: w\n        };\n      }), [{\n        name: t.name,\n        fromWireType: (l) => {\n          var d = {};\n          for (var h in s)\n            d[h] = s[h].read(l);\n          return n(l), d;\n        },\n        toWireType: (l, d) => {\n          for (var h in s)\n            if (!(h in d) && !s[h].optional)\n              throw new TypeError(`Missing field: \"${h}\"`);\n          var p = r();\n          for (h in s)\n            s[h].write(p, d[h]);\n          return l !== null && l.push(n, p), p;\n        },\n        argPackAdvance: N,\n        readValueFromPointer: lt,\n        destructorFunction: n\n      }];\n    });\n  }, $r = (e, t, r, n, a) => {\n  }, br = () => {\n    for (var e = new Array(256), t = 0; t < 256; ++t)\n      e[t] = String.fromCharCode(t);\n    oe = e;\n  }, oe, j = (e) => {\n    for (var t = \"\", r = e; B[r]; )\n      t += oe[B[r++]];\n    return t;\n  }, ft = c.BindingError = class extends Error {\n    constructor(e) {\n      super(e), this.name = \"BindingError\";\n    }\n  }, C = (e) => {\n    throw new ft(e);\n  };\n  function Cr(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    var n = t.name;\n    if (e || C(`type \"${n}\" must have a positive integer typeid pointer`), K.hasOwnProperty(e)) {\n      if (r.ignoreDuplicateRegistrations)\n        return;\n      C(`Cannot register type '${n}' twice`);\n    }\n    if (K[e] = t, delete bt[e], ot.hasOwnProperty(e)) {\n      var a = ot[e];\n      delete ot[e], a.forEach((i) => i());\n    }\n  }\n  function V(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    return Cr(e, t, r);\n  }\n  var N = 8, Tr = (e, t, r, n) => {\n    t = j(t), V(e, {\n      name: t,\n      fromWireType: function(a) {\n        return !!a;\n      },\n      toWireType: function(a, i) {\n        return i ? r : n;\n      },\n      argPackAdvance: N,\n      readValueFromPointer: function(a) {\n        return this.fromWireType(B[a]);\n      },\n      destructorFunction: null\n    });\n  }, Pr = (e) => ({\n    count: e.count,\n    deleteScheduled: e.deleteScheduled,\n    preservePointerOnDelete: e.preservePointerOnDelete,\n    ptr: e.ptr,\n    ptrType: e.ptrType,\n    smartPtr: e.smartPtr,\n    smartPtrType: e.smartPtrType\n  }), Bt = (e) => {\n    function t(r) {\n      return r.$$.ptrType.registeredClass.name;\n    }\n    C(t(e) + \" instance already deleted\");\n  }, Wt = !1, ie = (e) => {\n  }, Er = (e) => {\n    e.smartPtr ? e.smartPtrType.rawDestructor(e.smartPtr) : e.ptrType.registeredClass.rawDestructor(e.ptr);\n  }, se = (e) => {\n    e.count.value -= 1;\n    var t = e.count.value === 0;\n    t && Er(e);\n  }, dt = (e) => typeof FinalizationRegistry > \"u\" ? (dt = (t) => t, e) : (Wt = new FinalizationRegistry((t) => {\n    se(t.$$);\n  }), dt = (t) => {\n    var r = t.$$, n = !!r.smartPtr;\n    if (n) {\n      var a = {\n        $$: r\n      };\n      Wt.register(t, a, t);\n    }\n    return t;\n  }, ie = (t) => Wt.unregister(t), dt(e)), _r = () => {\n    let e = Tt.prototype;\n    Object.assign(e, {\n      isAliasOf(r) {\n        if (!(this instanceof Tt) || !(r instanceof Tt))\n          return !1;\n        var n = this.$$.ptrType.registeredClass, a = this.$$.ptr;\n        r.$$ = r.$$;\n        for (var i = r.$$.ptrType.registeredClass, u = r.$$.ptr; n.baseClass; )\n          a = n.upcast(a), n = n.baseClass;\n        for (; i.baseClass; )\n          u = i.upcast(u), i = i.baseClass;\n        return n === i && a === u;\n      },\n      clone() {\n        if (this.$$.ptr || Bt(this), this.$$.preservePointerOnDelete)\n          return this.$$.count.value += 1, this;\n        var r = dt(Object.create(Object.getPrototypeOf(this), {\n          $$: {\n            value: Pr(this.$$)\n          }\n        }));\n        return r.$$.count.value += 1, r.$$.deleteScheduled = !1, r;\n      },\n      delete() {\n        this.$$.ptr || Bt(this), this.$$.deleteScheduled && !this.$$.preservePointerOnDelete && C(\"Object already scheduled for deletion\"), ie(this), se(this.$$), this.$$.preservePointerOnDelete || (this.$$.smartPtr = void 0, this.$$.ptr = void 0);\n      },\n      isDeleted() {\n        return !this.$$.ptr;\n      },\n      deleteLater() {\n        return this.$$.ptr || Bt(this), this.$$.deleteScheduled && !this.$$.preservePointerOnDelete && C(\"Object already scheduled for deletion\"), this.$$.deleteScheduled = !0, this;\n      }\n    });\n    const t = Symbol.dispose;\n    t && (e[t] = e.delete);\n  };\n  function Tt() {\n  }\n  var Ut = (e, t) => Object.defineProperty(t, \"name\", {\n    value: e\n  }), ue = {}, ce = (e, t, r) => {\n    if (e[t].overloadTable === void 0) {\n      var n = e[t];\n      e[t] = function() {\n        for (var a = arguments.length, i = new Array(a), u = 0; u < a; u++)\n          i[u] = arguments[u];\n        return e[t].overloadTable.hasOwnProperty(i.length) || C(`Function '${r}' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].overloadTable})!`), e[t].overloadTable[i.length].apply(this, i);\n      }, e[t].overloadTable = [], e[t].overloadTable[n.argCount] = n;\n    }\n  }, le = (e, t, r) => {\n    c.hasOwnProperty(e) ? ((r === void 0 || c[e].overloadTable !== void 0 && c[e].overloadTable[r] !== void 0) && C(`Cannot register public name '${e}' twice`), ce(c, e, e), c[e].overloadTable.hasOwnProperty(r) && C(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`), c[e].overloadTable[r] = t) : (c[e] = t, c[e].argCount = r);\n  }, Or = 48, xr = 57, Ar = (e) => {\n    e = e.replace(/[^a-zA-Z0-9_]/g, \"$\");\n    var t = e.charCodeAt(0);\n    return t >= Or && t <= xr ? `_${e}` : e;\n  };\n  function Sr(e, t, r, n, a, i, u, s) {\n    this.name = e, this.constructor = t, this.instancePrototype = r, this.rawDestructor = n, this.baseClass = a, this.getActualType = i, this.upcast = u, this.downcast = s, this.pureVirtualFunctions = [];\n  }\n  var Vt = (e, t, r) => {\n    for (; t !== r; )\n      t.upcast || C(`Expected null or instance of ${r.name}, got an instance of ${t.name}`), e = t.upcast(e), t = t.baseClass;\n    return e;\n  };\n  function Ir(e, t) {\n    if (t === null)\n      return this.isReference && C(`null is not a valid ${this.name}`), 0;\n    t.$$ || C(`Cannot pass \"${embindRepr(t)}\" as a ${this.name}`), t.$$.ptr || C(`Cannot pass deleted object as a pointer of type ${this.name}`);\n    var r = t.$$.ptrType.registeredClass, n = Vt(t.$$.ptr, r, this.registeredClass);\n    return n;\n  }\n  function Dr(e, t) {\n    var r;\n    if (t === null)\n      return this.isReference && C(`null is not a valid ${this.name}`), this.isSmartPointer ? (r = this.rawConstructor(), e !== null && e.push(this.rawDestructor, r), r) : 0;\n    (!t || !t.$$) && C(`Cannot pass \"${embindRepr(t)}\" as a ${this.name}`), t.$$.ptr || C(`Cannot pass deleted object as a pointer of type ${this.name}`), !this.isConst && t.$$.ptrType.isConst && C(`Cannot convert argument of type ${t.$$.smartPtrType ? t.$$.smartPtrType.name : t.$$.ptrType.name} to parameter type ${this.name}`);\n    var n = t.$$.ptrType.registeredClass;\n    if (r = Vt(t.$$.ptr, n, this.registeredClass), this.isSmartPointer)\n      switch (t.$$.smartPtr === void 0 && C(\"Passing raw pointer to smart pointer is illegal\"), this.sharingPolicy) {\n        case 0:\n          t.$$.smartPtrType === this ? r = t.$$.smartPtr : C(`Cannot convert argument of type ${t.$$.smartPtrType ? t.$$.smartPtrType.name : t.$$.ptrType.name} to parameter type ${this.name}`);\n          break;\n        case 1:\n          r = t.$$.smartPtr;\n          break;\n        case 2:\n          if (t.$$.smartPtrType === this)\n            r = t.$$.smartPtr;\n          else {\n            var a = t.clone();\n            r = this.rawShare(r, G.toHandle(() => a.delete())), e !== null && e.push(this.rawDestructor, r);\n          }\n          break;\n        default:\n          C(\"Unsupporting sharing policy\");\n      }\n    return r;\n  }\n  function Mr(e, t) {\n    if (t === null)\n      return this.isReference && C(`null is not a valid ${this.name}`), 0;\n    t.$$ || C(`Cannot pass \"${embindRepr(t)}\" as a ${this.name}`), t.$$.ptr || C(`Cannot pass deleted object as a pointer of type ${this.name}`), t.$$.ptrType.isConst && C(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);\n    var r = t.$$.ptrType.registeredClass, n = Vt(t.$$.ptr, r, this.registeredClass);\n    return n;\n  }\n  var fe = (e, t, r) => {\n    if (t === r)\n      return e;\n    if (r.baseClass === void 0)\n      return null;\n    var n = fe(e, t, r.baseClass);\n    return n === null ? null : r.downcast(n);\n  }, Fr = {}, jr = (e, t) => {\n    for (t === void 0 && C(\"ptr should not be undefined\"); e.baseClass; )\n      t = e.upcast(t), e = e.baseClass;\n    return t;\n  }, Rr = (e, t) => (t = jr(e, t), Fr[t]), Pt = (e, t) => {\n    (!t.ptrType || !t.ptr) && Ct(\"makeClassHandle requires ptr and ptrType\");\n    var r = !!t.smartPtrType, n = !!t.smartPtr;\n    return r !== n && Ct(\"Both smartPtrType and smartPtr must be specified\"), t.count = {\n      value: 1\n    }, dt(Object.create(e, {\n      $$: {\n        value: t,\n        writable: !0\n      }\n    }));\n  };\n  function Lr(e) {\n    var t = this.getPointee(e);\n    if (!t)\n      return this.destructor(e), null;\n    var r = Rr(this.registeredClass, t);\n    if (r !== void 0) {\n      if (r.$$.count.value === 0)\n        return r.$$.ptr = t, r.$$.smartPtr = e, r.clone();\n      var n = r.clone();\n      return this.destructor(e), n;\n    }\n    function a() {\n      return this.isSmartPointer ? Pt(this.registeredClass.instancePrototype, {\n        ptrType: this.pointeeType,\n        ptr: t,\n        smartPtrType: this,\n        smartPtr: e\n      }) : Pt(this.registeredClass.instancePrototype, {\n        ptrType: this,\n        ptr: e\n      });\n    }\n    var i = this.registeredClass.getActualType(t), u = ue[i];\n    if (!u)\n      return a.call(this);\n    var s;\n    this.isConst ? s = u.constPointerType : s = u.pointerType;\n    var l = fe(t, this.registeredClass, s.registeredClass);\n    return l === null ? a.call(this) : this.isSmartPointer ? Pt(s.registeredClass.instancePrototype, {\n      ptrType: s,\n      ptr: l,\n      smartPtrType: this,\n      smartPtr: e\n    }) : Pt(s.registeredClass.instancePrototype, {\n      ptrType: s,\n      ptr: l\n    });\n  }\n  var Br = () => {\n    Object.assign(Et.prototype, {\n      getPointee(e) {\n        return this.rawGetPointee && (e = this.rawGetPointee(e)), e;\n      },\n      destructor(e) {\n        var t;\n        (t = this.rawDestructor) === null || t === void 0 || t.call(this, e);\n      },\n      argPackAdvance: N,\n      readValueFromPointer: lt,\n      fromWireType: Lr\n    });\n  };\n  function Et(e, t, r, n, a, i, u, s, l, d, h) {\n    this.name = e, this.registeredClass = t, this.isReference = r, this.isConst = n, this.isSmartPointer = a, this.pointeeType = i, this.sharingPolicy = u, this.rawGetPointee = s, this.rawConstructor = l, this.rawShare = d, this.rawDestructor = h, !a && t.baseClass === void 0 ? n ? (this.toWireType = Ir, this.destructorFunction = null) : (this.toWireType = Mr, this.destructorFunction = null) : this.toWireType = Dr;\n  }\n  var de = (e, t, r) => {\n    c.hasOwnProperty(e) || Ct(\"Replacing nonexistent public symbol\"), c[e].overloadTable !== void 0 && r !== void 0 ? c[e].overloadTable[r] = t : (c[e] = t, c[e].argCount = r);\n  }, he = [], pe, g = (e) => {\n    var t = he[e];\n    return t || (he[e] = t = pe.get(e)), t;\n  }, Wr = function(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    if (e.includes(\"j\"))\n      return dynCallLegacy(e, t, r);\n    var n = g(t), a = n(...r);\n    return a;\n  }, Ur = function(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;\n    return function() {\n      for (var n = arguments.length, a = new Array(n), i = 0; i < n; i++)\n        a[i] = arguments[i];\n      return Wr(e, t, a, r);\n    };\n  }, U = function(e, t) {\n    e = j(e);\n    function r() {\n      if (e.includes(\"j\"))\n        return Ur(e, t);\n      var a = g(t);\n      return a;\n    }\n    var n = r();\n    return typeof n != \"function\" && C(`unknown function pointer with signature ${e}: ${t}`), n;\n  };\n  class Vr extends Error {\n  }\n  var ve = (e) => {\n    var t = Nn(e), r = j(t);\n    return et(t), r;\n  }, _t = (e, t) => {\n    var r = [], n = {};\n    function a(i) {\n      if (!n[i] && !K[i]) {\n        if (bt[i]) {\n          bt[i].forEach(a);\n          return;\n        }\n        r.push(i), n[i] = !0;\n      }\n    }\n    throw t.forEach(a), new Vr(`${e}: ` + r.map(ve).join([\", \"]));\n  }, kr = (e, t, r, n, a, i, u, s, l, d, h, p, w) => {\n    h = j(h), i = U(a, i), s && (s = U(u, s)), d && (d = U(l, d)), w = U(p, w);\n    var b = Ar(h);\n    le(b, function() {\n      _t(`Cannot construct ${h} due to unbound types`, [n]);\n    }), tt([e, t, r], n ? [n] : [], (_) => {\n      _ = _[0];\n      var S, A;\n      n ? (S = _.registeredClass, A = S.instancePrototype) : A = Tt.prototype;\n      var I = Ut(h, function() {\n        if (Object.getPrototypeOf(this) !== X)\n          throw new ft(`Use 'new' to construct ${h}`);\n        if (L.constructor_body === void 0)\n          throw new ft(`${h} has no accessible constructor`);\n        for (var Oe = arguments.length, xt = new Array(Oe), At = 0; At < Oe; At++)\n          xt[At] = arguments[At];\n        var xe = L.constructor_body[xt.length];\n        if (xe === void 0)\n          throw new ft(`Tried to invoke ctor of ${h} with invalid number of parameters (${xt.length}) - expected (${Object.keys(L.constructor_body).toString()}) parameters instead!`);\n        return xe.apply(this, xt);\n      }), X = Object.create(A, {\n        constructor: {\n          value: I\n        }\n      });\n      I.prototype = X;\n      var L = new Sr(h, I, X, w, S, i, s, d);\n      if (L.baseClass) {\n        var W, Ot;\n        (Ot = (W = L.baseClass).__derivedClasses) !== null && Ot !== void 0 || (W.__derivedClasses = []), L.baseClass.__derivedClasses.push(L);\n      }\n      var Ra = new Et(h, L, !0, !1, !1), Ee = new Et(h + \"*\", L, !1, !1, !1), _e = new Et(h + \" const*\", L, !1, !0, !1);\n      return ue[e] = {\n        pointerType: Ee,\n        constPointerType: _e\n      }, de(b, I), [Ra, Ee, _e];\n    });\n  }, kt = (e, t) => {\n    for (var r = [], n = 0; n < e; n++)\n      r.push(P[t + n * 4 >> 2]);\n    return r;\n  };\n  function Hr(e) {\n    for (var t = 1; t < e.length; ++t)\n      if (e[t] !== null && e[t].destructorFunction === void 0)\n        return !0;\n    return !1;\n  }\n  function Ht(e, t, r, n, a, i) {\n    var u = t.length;\n    u < 2 && C(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\n    var s = t[1] !== null && r !== null, l = Hr(t), d = t[0].name !== \"void\", h = u - 2, p = new Array(h), w = [], b = [], _ = function() {\n      b.length = 0;\n      var S;\n      w.length = s ? 2 : 1, w[0] = a, s && (S = t[1].toWireType(b, this), w[1] = S);\n      for (var A = 0; A < h; ++A)\n        p[A] = t[A + 2].toWireType(b, A < 0 || arguments.length <= A ? void 0 : arguments[A]), w.push(p[A]);\n      var I = n(...w);\n      function X(L) {\n        if (l)\n          Lt(b);\n        else\n          for (var W = s ? 1 : 2; W < t.length; W++) {\n            var Ot = W === 1 ? S : p[W - 2];\n            t[W].destructorFunction !== null && t[W].destructorFunction(Ot);\n          }\n        if (d)\n          return t[0].fromWireType(L);\n      }\n      return X(I);\n    };\n    return Ut(e, _);\n  }\n  var Nr = (e, t, r, n, a, i) => {\n    var u = kt(t, r);\n    a = U(n, a), tt([], [e], (s) => {\n      s = s[0];\n      var l = `constructor ${s.name}`;\n      if (s.registeredClass.constructor_body === void 0 && (s.registeredClass.constructor_body = []), s.registeredClass.constructor_body[t - 1] !== void 0)\n        throw new ft(`Cannot register multiple constructors with identical number of parameters (${t - 1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);\n      return s.registeredClass.constructor_body[t - 1] = () => {\n        _t(`Cannot construct ${s.name} due to unbound types`, u);\n      }, tt([], u, (d) => (d.splice(1, 0, null), s.registeredClass.constructor_body[t - 1] = Ht(l, d, null, a, i), [])), [];\n    });\n  }, ye = (e) => {\n    e = e.trim();\n    const t = e.indexOf(\"(\");\n    return t === -1 ? e : e.slice(0, t);\n  }, zr = (e, t, r, n, a, i, u, s, l, d) => {\n    var h = kt(r, n);\n    t = j(t), t = ye(t), i = U(a, i), tt([], [e], (p) => {\n      p = p[0];\n      var w = `${p.name}.${t}`;\n      t.startsWith(\"@@\") && (t = Symbol[t.substring(2)]), s && p.registeredClass.pureVirtualFunctions.push(t);\n      function b() {\n        _t(`Cannot call ${w} due to unbound types`, h);\n      }\n      var _ = p.registeredClass.instancePrototype, S = _[t];\n      return S === void 0 || S.overloadTable === void 0 && S.className !== p.name && S.argCount === r - 2 ? (b.argCount = r - 2, b.className = p.name, _[t] = b) : (ce(_, t, w), _[t].overloadTable[r - 2] = b), tt([], h, (A) => {\n        var I = Ht(w, A, p, i, u);\n        return _[t].overloadTable === void 0 ? (I.argCount = r - 2, _[t] = I) : _[t].overloadTable[r - 2] = I, [];\n      }), [];\n    });\n  }, Nt = [], z = [], zt = (e) => {\n    e > 9 && --z[e + 1] === 0 && (z[e] = void 0, Nt.push(e));\n  }, Gr = () => z.length / 2 - 5 - Nt.length, Xr = () => {\n    z.push(0, 1, void 0, 1, null, 1, !0, 1, !1, 1), c.count_emval_handles = Gr;\n  }, G = {\n    toValue: (e) => (e || C(`Cannot use deleted val. handle = ${e}`), z[e]),\n    toHandle: (e) => {\n      switch (e) {\n        case void 0:\n          return 2;\n        case null:\n          return 4;\n        case !0:\n          return 6;\n        case !1:\n          return 8;\n        default: {\n          const t = Nt.pop() || z.length;\n          return z[t] = e, z[t + 1] = 1, t;\n        }\n      }\n    }\n  }, me = {\n    name: \"emscripten::val\",\n    fromWireType: (e) => {\n      var t = G.toValue(e);\n      return zt(e), t;\n    },\n    toWireType: (e, t) => G.toHandle(t),\n    argPackAdvance: N,\n    readValueFromPointer: lt,\n    destructorFunction: null\n  }, qr = (e) => V(e, me), Yr = (e, t) => {\n    switch (t) {\n      case 4:\n        return function(r) {\n          return this.fromWireType(Kt[r >> 2]);\n        };\n      case 8:\n        return function(r) {\n          return this.fromWireType(te[r >> 3]);\n        };\n      default:\n        throw new TypeError(`invalid float width (${t}): ${e}`);\n    }\n  }, Zr = (e, t, r) => {\n    t = j(t), V(e, {\n      name: t,\n      fromWireType: (n) => n,\n      toWireType: (n, a) => a,\n      argPackAdvance: N,\n      readValueFromPointer: Yr(t, r),\n      destructorFunction: null\n    });\n  }, Qr = (e, t, r, n, a, i, u, s) => {\n    var l = kt(t, r);\n    e = j(e), e = ye(e), a = U(n, a), le(e, function() {\n      _t(`Cannot call ${e} due to unbound types`, l);\n    }, t - 1), tt([], l, (d) => {\n      var h = [d[0], null].concat(d.slice(1));\n      return de(e, Ht(e, h, null, a, i), t - 1), [];\n    });\n  }, Jr = (e, t, r) => {\n    switch (t) {\n      case 1:\n        return r ? (n) => Q[n] : (n) => B[n];\n      case 2:\n        return r ? (n) => ut[n >> 1] : (n) => vt[n >> 1];\n      case 4:\n        return r ? (n) => at[n >> 2] : (n) => P[n >> 2];\n      default:\n        throw new TypeError(`invalid integer width (${t}): ${e}`);\n    }\n  }, Kr = (e, t, r, n, a) => {\n    t = j(t);\n    var i = (h) => h;\n    if (n === 0) {\n      var u = 32 - 8 * r;\n      i = (h) => h << u >>> u;\n    }\n    var s = t.includes(\"unsigned\"), l = (h, p) => {\n    }, d;\n    s ? d = function(h, p) {\n      return l(p, this.name), p >>> 0;\n    } : d = function(h, p) {\n      return l(p, this.name), p;\n    }, V(e, {\n      name: t,\n      fromWireType: i,\n      toWireType: d,\n      argPackAdvance: N,\n      readValueFromPointer: Jr(t, r, n !== 0),\n      destructorFunction: null\n    });\n  }, tn = (e, t, r) => {\n    var n = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array], a = n[t];\n    function i(u) {\n      var s = P[u >> 2], l = P[u + 4 >> 2];\n      return new a(Q.buffer, l, s);\n    }\n    r = j(r), V(e, {\n      name: r,\n      fromWireType: i,\n      argPackAdvance: N,\n      readValueFromPointer: i\n    }, {\n      ignoreDuplicateRegistrations: !0\n    });\n  }, en = Object.assign({\n    optional: !0\n  }, me), rn = (e, t) => {\n    V(e, en);\n  }, nn = (e, t, r, n) => {\n    if (!(n > 0)) return 0;\n    for (var a = r, i = r + n - 1, u = 0; u < e.length; ++u) {\n      var s = e.charCodeAt(u);\n      if (s >= 55296 && s <= 57343) {\n        var l = e.charCodeAt(++u);\n        s = 65536 + ((s & 1023) << 10) | l & 1023;\n      }\n      if (s <= 127) {\n        if (r >= i) break;\n        t[r++] = s;\n      } else if (s <= 2047) {\n        if (r + 1 >= i) break;\n        t[r++] = 192 | s >> 6, t[r++] = 128 | s & 63;\n      } else if (s <= 65535) {\n        if (r + 2 >= i) break;\n        t[r++] = 224 | s >> 12, t[r++] = 128 | s >> 6 & 63, t[r++] = 128 | s & 63;\n      } else {\n        if (r + 3 >= i) break;\n        t[r++] = 240 | s >> 18, t[r++] = 128 | s >> 12 & 63, t[r++] = 128 | s >> 6 & 63, t[r++] = 128 | s & 63;\n      }\n    }\n    return t[r] = 0, r - a;\n  }, it = (e, t, r) => nn(e, B, t, r), ge = (e) => {\n    for (var t = 0, r = 0; r < e.length; ++r) {\n      var n = e.charCodeAt(r);\n      n <= 127 ? t++ : n <= 2047 ? t += 2 : n >= 55296 && n <= 57343 ? (t += 4, ++r) : t += 3;\n    }\n    return t;\n  }, we = typeof TextDecoder < \"u\" ? new TextDecoder() : void 0, $e = function(e) {\n    let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : NaN;\n    for (var n = t + r, a = t; e[a] && !(a >= n); ) ++a;\n    if (a - t > 16 && e.buffer && we)\n      return we.decode(e.subarray(t, a));\n    for (var i = \"\"; t < a; ) {\n      var u = e[t++];\n      if (!(u & 128)) {\n        i += String.fromCharCode(u);\n        continue;\n      }\n      var s = e[t++] & 63;\n      if ((u & 224) == 192) {\n        i += String.fromCharCode((u & 31) << 6 | s);\n        continue;\n      }\n      var l = e[t++] & 63;\n      if ((u & 240) == 224 ? u = (u & 15) << 12 | s << 6 | l : u = (u & 7) << 18 | s << 12 | l << 6 | e[t++] & 63, u < 65536)\n        i += String.fromCharCode(u);\n      else {\n        var d = u - 65536;\n        i += String.fromCharCode(55296 | d >> 10, 56320 | d & 1023);\n      }\n    }\n    return i;\n  }, an = (e, t) => e ? $e(B, e, t) : \"\", on = (e, t) => {\n    t = j(t), V(e, {\n      name: t,\n      fromWireType(r) {\n        for (var n = P[r >> 2], a = r + 4, i, s, u = a, s = 0; s <= n; ++s) {\n          var l = a + s;\n          if (s == n || B[l] == 0) {\n            var d = l - u, h = an(u, d);\n            i === void 0 ? i = h : (i += \"\\0\", i += h), u = l + 1;\n          }\n        }\n        return et(r), i;\n      },\n      toWireType(r, n) {\n        n instanceof ArrayBuffer && (n = new Uint8Array(n));\n        var a, i = typeof n == \"string\";\n        i || ArrayBuffer.isView(n) && n.BYTES_PER_ELEMENT == 1 || C(\"Cannot pass non-string to std::string\"), i ? a = ge(n) : a = n.length;\n        var u = Pe(4 + a + 1), s = u + 4;\n        return P[u >> 2] = a, i ? it(n, s, a + 1) : B.set(n, s), r !== null && r.push(et, u), u;\n      },\n      argPackAdvance: N,\n      readValueFromPointer: lt,\n      destructorFunction(r) {\n        et(r);\n      }\n    });\n  }, be = typeof TextDecoder < \"u\" ? new TextDecoder(\"utf-16le\") : void 0, sn = (e, t) => {\n    for (var r = e, n = r >> 1, a = n + t / 2; !(n >= a) && vt[n]; ) ++n;\n    if (r = n << 1, r - e > 32 && be) return be.decode(B.subarray(e, r));\n    for (var i = \"\", u = 0; !(u >= t / 2); ++u) {\n      var s = ut[e + u * 2 >> 1];\n      if (s == 0) break;\n      i += String.fromCharCode(s);\n    }\n    return i;\n  }, un = (e, t, r) => {\n    if (r != null || (r = 2147483647), r < 2) return 0;\n    r -= 2;\n    for (var n = t, a = r < e.length * 2 ? r / 2 : e.length, i = 0; i < a; ++i) {\n      var u = e.charCodeAt(i);\n      ut[t >> 1] = u, t += 2;\n    }\n    return ut[t >> 1] = 0, t - n;\n  }, cn = (e) => e.length * 2, ln = (e, t) => {\n    for (var r = 0, n = \"\"; !(r >= t / 4); ) {\n      var a = at[e + r * 4 >> 2];\n      if (a == 0) break;\n      if (++r, a >= 65536) {\n        var i = a - 65536;\n        n += String.fromCharCode(55296 | i >> 10, 56320 | i & 1023);\n      } else\n        n += String.fromCharCode(a);\n    }\n    return n;\n  }, fn = (e, t, r) => {\n    if (r != null || (r = 2147483647), r < 4) return 0;\n    for (var n = t, a = n + r - 4, i = 0; i < e.length; ++i) {\n      var u = e.charCodeAt(i);\n      if (u >= 55296 && u <= 57343) {\n        var s = e.charCodeAt(++i);\n        u = 65536 + ((u & 1023) << 10) | s & 1023;\n      }\n      if (at[t >> 2] = u, t += 4, t + 4 > a) break;\n    }\n    return at[t >> 2] = 0, t - n;\n  }, dn = (e) => {\n    for (var t = 0, r = 0; r < e.length; ++r) {\n      var n = e.charCodeAt(r);\n      n >= 55296 && n <= 57343 && ++r, t += 4;\n    }\n    return t;\n  }, hn = (e, t, r) => {\n    r = j(r);\n    var n, a, i, u;\n    t === 2 ? (n = sn, a = un, u = cn, i = (s) => vt[s >> 1]) : t === 4 && (n = ln, a = fn, u = dn, i = (s) => P[s >> 2]), V(e, {\n      name: r,\n      fromWireType: (s) => {\n        for (var l = P[s >> 2], d, h = s + 4, p = 0; p <= l; ++p) {\n          var w = s + 4 + p * t;\n          if (p == l || i(w) == 0) {\n            var b = w - h, _ = n(h, b);\n            d === void 0 ? d = _ : (d += \"\\0\", d += _), h = w + t;\n          }\n        }\n        return et(s), d;\n      },\n      toWireType: (s, l) => {\n        typeof l != \"string\" && C(`Cannot pass non-string to C++ string type ${r}`);\n        var d = u(l), h = Pe(4 + d + t);\n        return P[h >> 2] = d / t, a(l, h + 4, d + t), s !== null && s.push(et, h), h;\n      },\n      argPackAdvance: N,\n      readValueFromPointer: lt,\n      destructorFunction(s) {\n        et(s);\n      }\n    });\n  }, pn = (e, t, r, n, a, i) => {\n    $t[e] = {\n      name: j(t),\n      rawConstructor: U(r, n),\n      rawDestructor: U(a, i),\n      fields: []\n    };\n  }, vn = (e, t, r, n, a, i, u, s, l, d) => {\n    $t[e].fields.push({\n      fieldName: j(t),\n      getterReturnType: r,\n      getter: U(n, a),\n      getterContext: i,\n      setterArgumentType: u,\n      setter: U(s, l),\n      setterContext: d\n    });\n  }, yn = (e, t) => {\n    t = j(t), V(e, {\n      isVoid: !0,\n      name: t,\n      argPackAdvance: 0,\n      fromWireType: () => {\n      },\n      toWireType: (r, n) => {\n      }\n    });\n  }, Gt = [], mn = (e, t, r, n) => (e = Gt[e], t = G.toValue(t), e(null, t, r, n)), gn = {}, wn = (e) => {\n    var t = gn[e];\n    return t === void 0 ? j(e) : t;\n  }, Ce = () => {\n    if (typeof globalThis == \"object\")\n      return globalThis;\n    function e(t) {\n      t.$$$embind_global$$$ = t;\n      var r = typeof $$$embind_global$$$ == \"object\" && t.$$$embind_global$$$ == t;\n      return r || delete t.$$$embind_global$$$, r;\n    }\n    if (typeof $$$embind_global$$$ == \"object\" || (typeof global == \"object\" && e(global) ? $$$embind_global$$$ = global : typeof self == \"object\" && e(self) && ($$$embind_global$$$ = self), typeof $$$embind_global$$$ == \"object\"))\n      return $$$embind_global$$$;\n    throw Error(\"unable to get global object.\");\n  }, $n = (e) => e === 0 ? G.toHandle(Ce()) : (e = wn(e), G.toHandle(Ce()[e])), bn = (e) => {\n    var t = Gt.length;\n    return Gt.push(e), t;\n  }, Te = (e, t) => {\n    var r = K[e];\n    return r === void 0 && C(`${t} has unknown type ${ve(e)}`), r;\n  }, Cn = (e, t) => {\n    for (var r = new Array(e), n = 0; n < e; ++n)\n      r[n] = Te(P[t + n * 4 >> 2], `parameter ${n}`);\n    return r;\n  }, Tn = (e, t, r) => {\n    var n = [], a = e.toWireType(n, r);\n    return n.length && (P[t >> 2] = G.toHandle(n)), a;\n  }, Pn = Reflect.construct, En = (e, t, r) => {\n    var n = Cn(e, t), a = n.shift();\n    e--;\n    var i = new Array(e), u = (l, d, h, p) => {\n      for (var w = 0, b = 0; b < e; ++b)\n        i[b] = n[b].readValueFromPointer(p + w), w += n[b].argPackAdvance;\n      var _ = r === 1 ? Pn(d, i) : d.apply(l, i);\n      return Tn(a, h, _);\n    }, s = `methodCaller<(${n.map((l) => l.name).join(\", \")}) => ${a.name}>`;\n    return bn(Ut(s, u));\n  }, _n = (e) => {\n    e > 9 && (z[e + 1] += 1);\n  }, On = (e) => {\n    var t = G.toValue(e);\n    Lt(t), zt(e);\n  }, xn = (e, t) => {\n    e = Te(e, \"_emval_take_value\");\n    var r = e.readValueFromPointer(t);\n    return G.toHandle(r);\n  }, An = (e, t, r, n) => {\n    var a = (/* @__PURE__ */ new Date()).getFullYear(), i = new Date(a, 0, 1), u = new Date(a, 6, 1), s = i.getTimezoneOffset(), l = u.getTimezoneOffset(), d = Math.max(s, l);\n    P[e >> 2] = d * 60, at[t >> 2] = +(s != l);\n    var h = (b) => {\n      var _ = b >= 0 ? \"-\" : \"+\", S = Math.abs(b), A = String(Math.floor(S / 60)).padStart(2, \"0\"), I = String(S % 60).padStart(2, \"0\");\n      return `UTC${_}${A}${I}`;\n    }, p = h(s), w = h(l);\n    l < s ? (it(p, r, 17), it(w, n, 17)) : (it(p, n, 17), it(w, r, 17));\n  }, Sn = () => 2147483648, In = (e, t) => Math.ceil(e / t) * t, Dn = (e) => {\n    var t = nt.buffer, r = (e - t.byteLength + 65535) / 65536 | 0;\n    try {\n      return nt.grow(r), ee(), 1;\n    } catch {\n    }\n  }, Mn = (e) => {\n    var t = B.length;\n    e >>>= 0;\n    var r = Sn();\n    if (e > r)\n      return !1;\n    for (var n = 1; n <= 4; n *= 2) {\n      var a = t * (1 + 0.2 / n);\n      a = Math.min(a, e + 100663296);\n      var i = Math.min(r, In(Math.max(e, a), 65536)), u = Dn(i);\n      if (u)\n        return !0;\n    }\n    return !1;\n  }, Xt = {}, Fn = () => M || \"./this.program\", ht = () => {\n    if (!ht.strings) {\n      var e = (typeof navigator == \"object\" && navigator.languages && navigator.languages[0] || \"C\").replace(\"-\", \"_\") + \".UTF-8\", t = {\n        USER: \"web_user\",\n        LOGNAME: \"web_user\",\n        PATH: \"/\",\n        PWD: \"/\",\n        HOME: \"/home/web_user\",\n        LANG: e,\n        _: Fn()\n      };\n      for (var r in Xt)\n        Xt[r] === void 0 ? delete t[r] : t[r] = Xt[r];\n      var n = [];\n      for (var r in t)\n        n.push(`${r}=${t[r]}`);\n      ht.strings = n;\n    }\n    return ht.strings;\n  }, jn = (e, t) => {\n    var r = 0, n = 0;\n    for (var a of ht()) {\n      var i = t + r;\n      P[e + n >> 2] = i, r += it(a, i, 1 / 0) + 1, n += 4;\n    }\n    return 0;\n  }, Rn = (e, t) => {\n    var r = ht();\n    P[e >> 2] = r.length;\n    var n = 0;\n    for (var a of r)\n      n += ge(a) + 1;\n    return P[t >> 2] = n, 0;\n  }, Ln = (e) => 52;\n  function Bn(e, t, r, n, a) {\n    return 70;\n  }\n  var Wn = [null, [], []], Un = (e, t) => {\n    var r = Wn[e];\n    t === 0 || t === 10 ? ((e === 1 ? st : k)($e(r)), r.length = 0) : r.push(t);\n  }, Vn = (e, t, r, n) => {\n    for (var a = 0, i = 0; i < r; i++) {\n      var u = P[t >> 2], s = P[t + 4 >> 2];\n      t += 8;\n      for (var l = 0; l < s; l++)\n        Un(e, B[u + l]);\n      a += s;\n    }\n    return P[n >> 2] = a, 0;\n  }, kn = (e) => e;\n  br(), _r(), Br(), Xr(), c.noExitRuntime && c.noExitRuntime, c.print && (st = c.print), c.printErr && (k = c.printErr), c.wasmBinary && (Z = c.wasmBinary), c.arguments && c.arguments, c.thisProgram && (M = c.thisProgram);\n  var Hn = {\n    s: ur,\n    w: cr,\n    a: lr,\n    j: fr,\n    m: dr,\n    N: hr,\n    p: pr,\n    da: vr,\n    d: yr,\n    _: mr,\n    sa: wr,\n    Z: $r,\n    na: Tr,\n    qa: kr,\n    pa: Nr,\n    F: zr,\n    la: qr,\n    R: Zr,\n    S: Qr,\n    y: Kr,\n    t: tn,\n    ra: rn,\n    ma: on,\n    O: hn,\n    K: pn,\n    ta: vn,\n    oa: yn,\n    V: mn,\n    ua: zt,\n    wa: $n,\n    $: En,\n    T: _n,\n    va: On,\n    ka: xn,\n    aa: An,\n    ea: Mn,\n    ba: jn,\n    ca: Rn,\n    fa: Ln,\n    X: Bn,\n    Q: Vn,\n    I: ba,\n    C: Ta,\n    U: oa,\n    P: Sa,\n    q: ma,\n    b: ea,\n    D: $a,\n    ia: Ea,\n    c: na,\n    ha: _a,\n    h: aa,\n    i: la,\n    r: da,\n    M: wa,\n    v: pa,\n    E: ya,\n    J: ga,\n    A: Pa,\n    H: Ia,\n    W: Fa,\n    k: sa,\n    f: ia,\n    e: ra,\n    g: ta,\n    L: Aa,\n    l: ca,\n    ja: Ca,\n    o: ha,\n    x: fa,\n    u: va,\n    ga: xa,\n    B: Oa,\n    n: ua,\n    G: Da,\n    Y: Ma,\n    z: kn\n  }, E = await or();\n  E.ya;\n  var Nn = E.za, et = c._free = E.Aa, Pe = c._malloc = E.Ca, zn = E.Da, v = E.Ea, Gn = E.Fa, Xn = E.Ga, qn = E.Ha, Yn = E.Ia, Zn = E.Ja, Qn = E.Ka;\n  c.dynCall_viijii = E.La;\n  var Jn = c.dynCall_vij = E.Ma;\n  c.dynCall_jiji = E.Na;\n  var Kn = c.dynCall_jiiii = E.Oa;\n  c.dynCall_iiiiij = E.Pa, c.dynCall_iiiiijj = E.Qa, c.dynCall_iiiiiijj = E.Ra;\n  function ta(e, t, r, n) {\n    var a = m();\n    try {\n      g(e)(t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function ea(e, t) {\n    var r = m();\n    try {\n      return g(e)(t);\n    } catch (n) {\n      if (y(r), n !== n + 0) throw n;\n      v(1, 0);\n    }\n  }\n  function ra(e, t, r) {\n    var n = m();\n    try {\n      g(e)(t, r);\n    } catch (a) {\n      if (y(n), a !== a + 0) throw a;\n      v(1, 0);\n    }\n  }\n  function na(e, t, r) {\n    var n = m();\n    try {\n      return g(e)(t, r);\n    } catch (a) {\n      if (y(n), a !== a + 0) throw a;\n      v(1, 0);\n    }\n  }\n  function aa(e, t, r, n) {\n    var a = m();\n    try {\n      return g(e)(t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function oa(e, t, r, n, a) {\n    var i = m();\n    try {\n      return g(e)(t, r, n, a);\n    } catch (u) {\n      if (y(i), u !== u + 0) throw u;\n      v(1, 0);\n    }\n  }\n  function ia(e, t) {\n    var r = m();\n    try {\n      g(e)(t);\n    } catch (n) {\n      if (y(r), n !== n + 0) throw n;\n      v(1, 0);\n    }\n  }\n  function sa(e) {\n    var t = m();\n    try {\n      g(e)();\n    } catch (r) {\n      if (y(t), r !== r + 0) throw r;\n      v(1, 0);\n    }\n  }\n  function ua(e, t, r, n, a, i, u, s, l, d, h) {\n    var p = m();\n    try {\n      g(e)(t, r, n, a, i, u, s, l, d, h);\n    } catch (w) {\n      if (y(p), w !== w + 0) throw w;\n      v(1, 0);\n    }\n  }\n  function ca(e, t, r, n, a) {\n    var i = m();\n    try {\n      g(e)(t, r, n, a);\n    } catch (u) {\n      if (y(i), u !== u + 0) throw u;\n      v(1, 0);\n    }\n  }\n  function la(e, t, r, n, a) {\n    var i = m();\n    try {\n      return g(e)(t, r, n, a);\n    } catch (u) {\n      if (y(i), u !== u + 0) throw u;\n      v(1, 0);\n    }\n  }\n  function fa(e, t, r, n, a, i, u) {\n    var s = m();\n    try {\n      g(e)(t, r, n, a, i, u);\n    } catch (l) {\n      if (y(s), l !== l + 0) throw l;\n      v(1, 0);\n    }\n  }\n  function da(e, t, r, n, a, i) {\n    var u = m();\n    try {\n      return g(e)(t, r, n, a, i);\n    } catch (s) {\n      if (y(u), s !== s + 0) throw s;\n      v(1, 0);\n    }\n  }\n  function ha(e, t, r, n, a, i) {\n    var u = m();\n    try {\n      g(e)(t, r, n, a, i);\n    } catch (s) {\n      if (y(u), s !== s + 0) throw s;\n      v(1, 0);\n    }\n  }\n  function pa(e, t, r, n, a, i, u) {\n    var s = m();\n    try {\n      return g(e)(t, r, n, a, i, u);\n    } catch (l) {\n      if (y(s), l !== l + 0) throw l;\n      v(1, 0);\n    }\n  }\n  function va(e, t, r, n, a, i, u, s) {\n    var l = m();\n    try {\n      g(e)(t, r, n, a, i, u, s);\n    } catch (d) {\n      if (y(l), d !== d + 0) throw d;\n      v(1, 0);\n    }\n  }\n  function ya(e, t, r, n, a, i, u, s) {\n    var l = m();\n    try {\n      return g(e)(t, r, n, a, i, u, s);\n    } catch (d) {\n      if (y(l), d !== d + 0) throw d;\n      v(1, 0);\n    }\n  }\n  function ma(e) {\n    var t = m();\n    try {\n      return g(e)();\n    } catch (r) {\n      if (y(t), r !== r + 0) throw r;\n      v(1, 0);\n    }\n  }\n  function ga(e, t, r, n, a, i, u, s, l) {\n    var d = m();\n    try {\n      return g(e)(t, r, n, a, i, u, s, l);\n    } catch (h) {\n      if (y(d), h !== h + 0) throw h;\n      v(1, 0);\n    }\n  }\n  function wa(e, t, r, n, a, i, u) {\n    var s = m();\n    try {\n      return g(e)(t, r, n, a, i, u);\n    } catch (l) {\n      if (y(s), l !== l + 0) throw l;\n      v(1, 0);\n    }\n  }\n  function $a(e, t, r, n) {\n    var a = m();\n    try {\n      return g(e)(t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function ba(e, t, r, n) {\n    var a = m();\n    try {\n      return g(e)(t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function Ca(e, t, r, n, a, i, u, s) {\n    var l = m();\n    try {\n      g(e)(t, r, n, a, i, u, s);\n    } catch (d) {\n      if (y(l), d !== d + 0) throw d;\n      v(1, 0);\n    }\n  }\n  function Ta(e, t, r, n, a, i) {\n    var u = m();\n    try {\n      return g(e)(t, r, n, a, i);\n    } catch (s) {\n      if (y(u), s !== s + 0) throw s;\n      v(1, 0);\n    }\n  }\n  function Pa(e, t, r, n, a, i, u, s, l, d) {\n    var h = m();\n    try {\n      return g(e)(t, r, n, a, i, u, s, l, d);\n    } catch (p) {\n      if (y(h), p !== p + 0) throw p;\n      v(1, 0);\n    }\n  }\n  function Ea(e, t, r) {\n    var n = m();\n    try {\n      return g(e)(t, r);\n    } catch (a) {\n      if (y(n), a !== a + 0) throw a;\n      v(1, 0);\n    }\n  }\n  function _a(e, t, r, n, a) {\n    var i = m();\n    try {\n      return g(e)(t, r, n, a);\n    } catch (u) {\n      if (y(i), u !== u + 0) throw u;\n      v(1, 0);\n    }\n  }\n  function Oa(e, t, r, n, a, i, u, s, l, d) {\n    var h = m();\n    try {\n      g(e)(t, r, n, a, i, u, s, l, d);\n    } catch (p) {\n      if (y(h), p !== p + 0) throw p;\n      v(1, 0);\n    }\n  }\n  function xa(e, t, r, n, a, i, u, s, l) {\n    var d = m();\n    try {\n      g(e)(t, r, n, a, i, u, s, l);\n    } catch (h) {\n      if (y(d), h !== h + 0) throw h;\n      v(1, 0);\n    }\n  }\n  function Aa(e, t, r, n, a, i, u) {\n    var s = m();\n    try {\n      g(e)(t, r, n, a, i, u);\n    } catch (l) {\n      if (y(s), l !== l + 0) throw l;\n      v(1, 0);\n    }\n  }\n  function Sa(e, t, r, n) {\n    var a = m();\n    try {\n      return g(e)(t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function Ia(e, t, r, n, a, i, u, s, l, d, h, p) {\n    var w = m();\n    try {\n      return g(e)(t, r, n, a, i, u, s, l, d, h, p);\n    } catch (b) {\n      if (y(w), b !== b + 0) throw b;\n      v(1, 0);\n    }\n  }\n  function Da(e, t, r, n, a, i, u, s, l, d, h, p, w, b, _, S) {\n    var A = m();\n    try {\n      g(e)(t, r, n, a, i, u, s, l, d, h, p, w, b, _, S);\n    } catch (I) {\n      if (y(A), I !== I + 0) throw I;\n      v(1, 0);\n    }\n  }\n  function Ma(e, t, r, n) {\n    var a = m();\n    try {\n      Jn(e, t, r, n);\n    } catch (i) {\n      if (y(a), i !== i + 0) throw i;\n      v(1, 0);\n    }\n  }\n  function Fa(e, t, r, n, a) {\n    var i = m();\n    try {\n      return Kn(e, t, r, n, a);\n    } catch (u) {\n      if (y(i), u !== u + 0) throw u;\n      v(1, 0);\n    }\n  }\n  function qt() {\n    if (J > 0) {\n      ct = qt;\n      return;\n    }\n    if (qe(), J > 0) {\n      ct = qt;\n      return;\n    }\n    function e() {\n      var t;\n      c.calledRun = !0, !Jt && (Ye(), T(c), (t = c.onRuntimeInitialized) === null || t === void 0 || t.call(c), Ze());\n    }\n    c.setStatus ? (c.setStatus(\"Running...\"), setTimeout(() => {\n      setTimeout(() => c.setStatus(\"\"), 1), e();\n    }, 1)) : e();\n  }\n  function ja() {\n    if (c.preInit)\n      for (typeof c.preInit == \"function\" && (c.preInit = [c.preInit]); c.preInit.length > 0; )\n        c.preInit.shift()();\n  }\n  return ja(), qt(), f = x, f;\n};\nfunction Be(o) {\n  return Le(Qt, o);\n}\nfunction Co() {\n  return Ka(Qt);\n}\nfunction To(o) {\n  Be({\n    overrides: o,\n    equalityFn: Object.is,\n    fireImmediately: !1\n  });\n}\nasync function eo(o, f) {\n  return to(Qt, o, f);\n}\nconst Po = \"3c07027dbfd6da47330ac18e74e6924019d9ac9a4c1e161b800666f9e3c925ca\", We = [\n  [\"aztec\", \"Aztec\"],\n  [\"code_128\", \"Code128\"],\n  [\"code_39\", \"Code39\"],\n  [\"code_93\", \"Code93\"],\n  [\"codabar\", \"Codabar\"],\n  [\"databar\", \"DataBar\"],\n  [\"databar_expanded\", \"DataBarExpanded\"],\n  [\"databar_limited\", \"DataBarLimited\"],\n  [\"data_matrix\", \"DataMatrix\"],\n  [\"dx_film_edge\", \"DXFilmEdge\"],\n  [\"ean_13\", \"EAN-13\"],\n  [\"ean_8\", \"EAN-8\"],\n  [\"itf\", \"ITF\"],\n  [\"maxi_code\", \"MaxiCode\"],\n  [\"micro_qr_code\", \"MicroQRCode\"],\n  [\"pdf417\", \"PDF417\"],\n  [\"qr_code\", \"QRCode\"],\n  [\"rm_qr_code\", \"rMQRCode\"],\n  [\"upc_a\", \"UPC-A\"],\n  [\"upc_e\", \"UPC-E\"],\n  [\"linear_codes\", \"Linear-Codes\"],\n  [\"matrix_codes\", \"Matrix-Codes\"],\n  [\"any\", \"Any\"]\n], ro = [...We, [\"unknown\"]].map((o) => o[0]), Zt = new Map(\n  We\n);\nfunction no(o) {\n  for (const [f, c] of Zt)\n    if (o === c)\n      return f;\n  return \"unknown\";\n}\nfunction ao(o) {\n  if (Ue(o))\n    return {\n      width: o.naturalWidth,\n      height: o.naturalHeight\n    };\n  if (Ve(o))\n    return {\n      width: o.width.baseVal.value,\n      height: o.height.baseVal.value\n    };\n  if (ke(o))\n    return {\n      width: o.videoWidth,\n      height: o.videoHeight\n    };\n  if (Ne(o))\n    return {\n      width: o.width,\n      height: o.height\n    };\n  if (Ge(o))\n    return {\n      width: o.displayWidth,\n      height: o.displayHeight\n    };\n  if (He(o))\n    return {\n      width: o.width,\n      height: o.height\n    };\n  if (ze(o))\n    return {\n      width: o.width,\n      height: o.height\n    };\n  throw new TypeError(\n    \"The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.\"\n  );\n}\nfunction Ue(o) {\n  var f, c;\n  try {\n    return o instanceof ((c = (f = o == null ? void 0 : o.ownerDocument) == null ? void 0 : f.defaultView) == null ? void 0 : c.HTMLImageElement);\n  } catch {\n    return !1;\n  }\n}\nfunction Ve(o) {\n  var f, c;\n  try {\n    return o instanceof ((c = (f = o == null ? void 0 : o.ownerDocument) == null ? void 0 : f.defaultView) == null ? void 0 : c.SVGImageElement);\n  } catch {\n    return !1;\n  }\n}\nfunction ke(o) {\n  var f, c;\n  try {\n    return o instanceof ((c = (f = o == null ? void 0 : o.ownerDocument) == null ? void 0 : f.defaultView) == null ? void 0 : c.HTMLVideoElement);\n  } catch {\n    return !1;\n  }\n}\nfunction He(o) {\n  var f, c;\n  try {\n    return o instanceof ((c = (f = o == null ? void 0 : o.ownerDocument) == null ? void 0 : f.defaultView) == null ? void 0 : c.HTMLCanvasElement);\n  } catch {\n    return !1;\n  }\n}\nfunction Ne(o) {\n  try {\n    return o instanceof ImageBitmap || Object.prototype.toString.call(o) === \"[object ImageBitmap]\";\n  } catch {\n    return !1;\n  }\n}\nfunction ze(o) {\n  try {\n    return o instanceof OffscreenCanvas || Object.prototype.toString.call(o) === \"[object OffscreenCanvas]\";\n  } catch {\n    return !1;\n  }\n}\nfunction Ge(o) {\n  try {\n    return o instanceof VideoFrame || Object.prototype.toString.call(o) === \"[object VideoFrame]\";\n  } catch {\n    return !1;\n  }\n}\nfunction oo(o) {\n  try {\n    return o instanceof Blob || Object.prototype.toString.call(o) === \"[object Blob]\";\n  } catch {\n    return !1;\n  }\n}\nfunction io(o) {\n  try {\n    return o instanceof ImageData || Object.prototype.toString.call(o) === \"[object ImageData]\";\n  } catch {\n    return !1;\n  }\n}\nfunction so(o, f) {\n  try {\n    const c = new OffscreenCanvas(o, f);\n    if (c.getContext(\"2d\") instanceof OffscreenCanvasRenderingContext2D)\n      return c;\n    throw void 0;\n  } catch {\n    const c = document.createElement(\"canvas\");\n    return c.width = o, c.height = f, c;\n  }\n}\nasync function Xe(o) {\n  if (Ue(o) && !await fo(o))\n    throw new DOMException(\n      \"Failed to load or decode HTMLImageElement.\",\n      \"InvalidStateError\"\n    );\n  if (Ve(o) && !await ho(o))\n    throw new DOMException(\n      \"Failed to load or decode SVGImageElement.\",\n      \"InvalidStateError\"\n    );\n  if (Ge(o) && po(o))\n    throw new DOMException(\"VideoFrame is closed.\", \"InvalidStateError\");\n  if (ke(o) && (o.readyState === 0 || o.readyState === 1))\n    throw new DOMException(\"Invalid element or state.\", \"InvalidStateError\");\n  if (Ne(o) && yo(o))\n    throw new DOMException(\n      \"The image source is detached.\",\n      \"InvalidStateError\"\n    );\n  const { width: f, height: c } = ao(o);\n  if (f === 0 || c === 0)\n    return null;\n  const $ = so(f, c).getContext(\"2d\");\n  $.drawImage(o, 0, 0);\n  try {\n    return $.getImageData(0, 0, f, c);\n  } catch {\n    throw new DOMException(\"Source would taint origin.\", \"SecurityError\");\n  }\n}\nasync function uo(o) {\n  let f;\n  try {\n    f = await createImageBitmap(o);\n  } catch {\n    try {\n      if (globalThis.Image) {\n        f = new Image();\n        let $ = \"\";\n        try {\n          $ = URL.createObjectURL(o), f.src = $, await f.decode();\n        } finally {\n          URL.revokeObjectURL($);\n        }\n      } else\n        return o;\n    } catch {\n      throw new DOMException(\n        \"Failed to load or decode Blob.\",\n        \"InvalidStateError\"\n      );\n    }\n  }\n  return await Xe(f);\n}\nfunction co(o) {\n  const { width: f, height: c } = o;\n  if (f === 0 || c === 0)\n    return null;\n  const T = o.getContext(\"2d\");\n  try {\n    return T.getImageData(0, 0, f, c);\n  } catch {\n    throw new DOMException(\"Source would taint origin.\", \"SecurityError\");\n  }\n}\nasync function lo(o) {\n  if (oo(o))\n    return await uo(o);\n  if (io(o)) {\n    if (vo(o))\n      throw new DOMException(\n        \"The image data has been detached.\",\n        \"InvalidStateError\"\n      );\n    return o;\n  }\n  return He(o) || ze(o) ? co(o) : await Xe(o);\n}\nasync function fo(o) {\n  try {\n    return await o.decode(), !0;\n  } catch {\n    return !1;\n  }\n}\nasync function ho(o) {\n  var f;\n  try {\n    return await ((f = o.decode) == null ? void 0 : f.call(o)), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction po(o) {\n  return o.format === null;\n}\nfunction vo(o) {\n  return o.data.buffer.byteLength === 0;\n}\nfunction yo(o) {\n  return o.width === 0 && o.height === 0;\n}\nfunction Re(o, f) {\n  return mo(o) ? new DOMException(`${f}: ${o.message}`, o.name) : go(o) ? new o.constructor(`${f}: ${o.message}`) : new Error(`${f}: ${o}`);\n}\nfunction mo(o) {\n  return o instanceof DOMException || Object.prototype.toString.call(o) === \"[object DOMException]\";\n}\nfunction go(o) {\n  return o instanceof Error || Object.prototype.toString.call(o) === \"[object Error]\";\n}\nvar pt;\nclass Eo {\n  constructor(f = {}) {\n    De(this, pt);\n    var c;\n    try {\n      const T = (c = f == null ? void 0 : f.formats) == null ? void 0 : c.filter(\n        ($) => $ !== \"unknown\"\n      );\n      if ((T == null ? void 0 : T.length) === 0)\n        throw new TypeError(\"Hint option provided, but is empty.\");\n      for (const $ of T != null ? T : [])\n        if (!Zt.has($))\n          throw new TypeError(\n            `Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${$}' is not a valid enum value of type BarcodeFormat.`\n          );\n      Me(this, pt, T != null ? T : []), Be({ fireImmediately: !0 }).catch(() => {\n      });\n    } catch (T) {\n      throw Re(\n        T,\n        \"Failed to construct 'BarcodeDetector'\"\n      );\n    }\n  }\n  static async getSupportedFormats() {\n    return ro.filter((f) => f !== \"unknown\");\n  }\n  async detect(f) {\n    try {\n      const c = await lo(f);\n      if (c === null)\n        return [];\n      let T;\n      const $ = {\n        tryCode39ExtendedMode: !1,\n        textMode: \"Plain\",\n        formats: Ie(this, pt).map((x) => Zt.get(x))\n      };\n      try {\n        T = await eo(c, $);\n      } catch (x) {\n        throw console.error(x), new DOMException(\n          \"Barcode detection service unavailable.\",\n          \"NotSupportedError\"\n        );\n      }\n      return T.map((x) => {\n        const {\n          topLeft: { x: D, y: R },\n          topRight: { x: O, y: M },\n          bottomLeft: { x: F, y: q },\n          bottomRight: { x: rt, y: Y }\n        } = x.position, st = Math.min(D, O, F, rt), k = Math.min(R, M, q, Y), Z = Math.max(D, O, F, rt), nt = Math.max(R, M, q, Y);\n        return {\n          boundingBox: new DOMRectReadOnly(\n            st,\n            k,\n            Z - st,\n            nt - k\n          ),\n          rawValue: x.text,\n          format: no(x.format),\n          cornerPoints: [\n            {\n              x: D,\n              y: R\n            },\n            {\n              x: O,\n              y: M\n            },\n            {\n              x: rt,\n              y: Y\n            },\n            {\n              x: F,\n              y: q\n            }\n          ]\n        };\n      });\n    } catch (c) {\n      throw Re(\n        c,\n        \"Failed to execute 'detect' on 'BarcodeDetector'\"\n      );\n    }\n  }\n}\npt = new WeakMap();\nexport {\n  Eo as BarcodeDetector,\n  bo as ZXING_CPP_COMMIT,\n  Po as ZXING_WASM_SHA256,\n  $o as ZXING_WASM_VERSION,\n  Be as prepareZXingModule,\n  Co as purgeZXingModule,\n  To as setZXingModuleOverrides\n};\n", "import { BarcodeDetector as r } from \"./ponyfill.js\";\nimport { ZXING_CPP_COMMIT as d, ZXING_WASM_SHA256 as i, ZXING_WASM_VERSION as X, prepareZXingModule as Z, purgeZXingModule as _, setZXingModuleOverrides as g } from \"./ponyfill.js\";\nvar e;\n(e = globalThis.BarcodeDetector) != null || (globalThis.BarcodeDetector = r);\nexport {\n  d as ZXING_CPP_COMMIT,\n  i as ZXING_WASM_SHA256,\n  X as ZXING_WASM_VERSION,\n  Z as prepareZXingModule,\n  _ as purgeZXingModule,\n  g as setZXingModuleOverrides\n};\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
  "mappings": "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",
  "names": ["SDPUtils", "i", "sdp", "pt", "window", "e", "navigator", "window", "navigator", "c", "r", "a", "d", "e", "window", "f", "e", "r", "s", "t", "sdp", "shimGetUserMedia", "shimOnTrack", "shimPeerConnection", "shimGetUserMedia", "window", "navigator", "a", "c", "window", "shimOnTrack", "window", "shimPeerConnection", "e", "i", "shimGetUserMedia", "window", "f", "e", "shimGetUserMedia", "navigator", "i", "window", "SDPUtils", "e", "sdp", "d", "window", "logging", "adapter", "shimPeerConnection", "shimGetUserMedia", "shimOnTrack", "o", "f", "c", "T", "o", "f", "c", "T", "D", "R", "M", "o", "f", "c", "T", "D", "M", "F", "q", "R", "e", "t", "Y", "k", "Q", "B", "E", "r", "a", "i", "u", "s", "l", "m", "K", "d", "V", "h", "p", "w", "A", "I", "N", "C", "G", "g", "o", "f", "o", "f", "c", "T", "D", "R", "M", "F", "q", "Y", "k", "CameraOffIcon", "props", "onClick", "disabled", "className", "style", "cursor", "stroke", "strokeLineJoin", "strokeLineCap", "strokeWidth", "React", "createElement", "width", "height", "viewBox", "fill", "xmlns", "d", "CameraOnIcon", "OnOff", "scanning", "startScanning", "stopScanning", "buttonDisabled", "setButtonDisabled", "useState", "toggleScanning", "setTimeout", "bottom", "right", "position", "zIndex", "TorchOnIcon", "TorchOffIcon", "Torch", "status", "torchToggle", "toggleTorch", "value", "ZoomInIcon", "ZoomOutIcon", "Zoom", "capabilities", "onZoom", "stepSize", "max", "min", "Fragment", "Math", "styles", "fullContainer", "display", "alignItems", "justifyContent", "overflow", "innerContainer", "overlay", "top", "left", "pointerEvents", "borderBox", "aspectRatio", "border", "borderRadius", "cornerTopLeft", "borderBottomColor", "borderRightColor", "borderTopLeftRadius", "cornerTopRight", "borderLeftColor", "borderTopRightRadius", "cornerBottomLeft", "borderTopColor", "borderBottomLeftRadius", "cornerBottomRight", "borderBottomRightRadius", "Finder", "onOff", "torch", "zoom", "toggle", "onChange", "base64Beep", "isDateObject", "Date", "isNullOrUndefined", "isObjectType", "isObject", "Array", "isArray", "isPrimitive", "deepEqual", "object1", "object2", "getTime", "keys1", "Object", "keys", "keys2", "length", "key", "val1", "includes", "val2", "defaultConstraints", "facingMode", "ideal", "defaultComponents", "finder", "tracker", "defaultStyles", "objectFit", "outline", "detectedCodes", "ctx", "detectedCode", "firstPoint", "otherPoints", "cornerPoints", "lineWidth", "strokeStyle", "beginPath", "moveTo", "x", "y", "lineTo", "closePath", "boundingBox", "strokeRect", "centerText", "forEach", "rawValue", "centerX", "centerY", "fontSize", "canvas", "lineHeight", "formattedText", "font", "textAlign", "JSON", "stringify", "parse", "_a", "lines", "split", "textWidth", "map", "line", "measureText", "textHeight", "rectX", "rectY", "rectWidth", "padding", "rectHeight", "quadraticCurveTo", "fillStyle", "index", "currentX", "lastIndex", "propertyMatches", "matchAll", "valueMatches", "match", "matchIndex", "property", "replace", "beforeProperty", "substring", "fillText", "valueMatch", "beforeValue", "_b", "i", "remainingLine", "clearCanvas", "Error", "getContext", "clearRect", "Scanner", "onScan", "constraints", "formats", "paused", "components", "children", "classNames", "allowMultiple", "scanDelay", "onError", "sound", "videoRef", "useRef", "pauseFrameRef", "trackingLayerRef", "mergedConstraints", "useMemo", "mergedComponents", "isMounted", "setIsMounted", "isCameraActive", "setIsCameraActive", "constraintsCached", "setConstraintsCached", "camera", "taskQueue", "Promise", "resolve", "type", "data", "currentStream", "currentVideoTrack", "setCapabilities", "settings", "setSettings", "runStartTask", "useCallback", "async", "videoEl", "window", "isSecureContext", "navigator", "mediaDevices", "getUserMedia", "stream", "audio", "video", "srcObject", "mozSrcObject", "URL", "createObjectURL", "src", "webkitURL", "id", "race", "play", "then", "track", "getVideoTracks", "getSettings", "_c", "getCapabilities", "call", "current", "runStopTask", "load", "getTracks", "removeTrack", "stop", "startCamera", "restart", "prevTaskResult", "prevVideoEl", "prevStream", "prevConstraints", "stopCamera", "updateConstraints", "newConstraints", "videoTrack", "advanced", "applyConstraints", "updatedCapabilities", "updatedSettings", "useEffect", "useCamera", "videoElementRef", "onFound", "retryDelay", "barcodeDetectorRef", "BarcodeDetector", "audioRef", "animationFrameIdRef", "Audio", "processFrame", "state", "timeNow", "readyState", "lastScan", "contentBefore", "lastScanHadContent", "requestAnimationFrame", "detect", "anyNewCodesDetected", "some", "code", "currentScanHasContent", "lastOnScan", "catch", "error", "console", "newState", "performance", "now", "initialState", "cancelAnimationFrame", "trackingEl", "displayWidth", "offsetWidth", "displayHeight", "offsetHeight", "resolutionWidth", "videoWidth", "resolutionHeight", "videoHeight", "largerRatio", "uncutWidth", "uncutHeight", "xScalar", "yScalar", "xOffset", "yOffset", "scale", "floor", "translate", "adjustedCodes", "point", "DOMRectReadOnly", "fromRect", "deviceId", "cameraSettings", "shouldStream", "onCameraChange", "canvasEl", "drawImage", "shouldScan", "container", "ref", "visibility", "autoPlay", "muted", "playsInline", "useDevices", "devices", "setDevices", "enumerateDevices", "filter", "kind", "getDevices"]
}
